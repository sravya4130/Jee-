import React, { useState } from "react";
import "./App.css";

// Simple, fixed ChemLearn single-file React component
// Changes made for stability:
// 1. Moved liStyle above App to avoid any temporal confusion
// 2. Added basic ARIA attributes and button type
// 3. Kept exactly the same UI and behavior you requested (glaucous background, removed Messages)

const liStyle = {
  padding: "12px 0",
  fontSize: "18px",
  cursor: "pointer",
};

export default function App() {
  const [sidebarOpen, setSidebarOpen] = useState(false);
  const [page, setPage] = useState("home");

  const toggleSidebar = () => setSidebarOpen(!sidebarOpen);

  const changePage = (p) => {
    setPage(p);
    setSidebarOpen(false);
  };

  // Background color glaucous (#6082B6)
  const pageStyle = {
    backgroundColor: "#6082B6",
    minHeight: "100vh",
    width: "100%",
    padding: "20px",
    color: "white",
  };

  return (
    <div style={pageStyle}>
      {/* Hamburger */}
      <button
        type="button"
        aria-label={sidebarOpen ? "Close menu" : "Open menu"}
        onClick={toggleSidebar}
        style={{ fontSize: "24px", padding: "10px", cursor: "pointer" }}
      >
        ☰
      </button>

      {/* Sidebar */}
      <aside
        aria-hidden={!sidebarOpen}
        style={{
          position: "fixed",
          top: 0,
          left: sidebarOpen ? 0 : "-250px",
          width: "250px",
          height: "100%",
          background: "#2c2c2c",
          color: "white",
          paddingTop: "60px",
          transition: "0.3s",
          zIndex: 20,
        }}
      >
        <nav aria-label="Main menu">
          <ul style={{ listStyle: "none", padding: "20px", margin: 0 }}>
            <li style={liStyle} onClick={() => changePage("home")}>Home</li>
            <li style={liStyle} onClick={() => changePage("topics")}>
              Chemistry Topics
            </li>
            <li style={liStyle} onClick={() => changePage("friends")}>Friends</li>
            {/* Messages removed as requested */}
            <li style={liStyle} onClick={() => changePage("about")}>About Us</li>
            <li style={liStyle} onClick={() => changePage("settings")}>Settings</li>
            <li style={liStyle} onClick={() => changePage("tutors")}>Tutors</li>
          </ul>
        </nav>
      </aside>

      {/* Page Content */}
      <main style={{ marginTop: "40px" }}>
        {page === "home" && <HomePage />}
        {page === "topics" && <TopicsPage />}
        {page === "friends" && <FriendsPage />}
        {page === "about" && <AboutPage />}
        {page === "settings" && <SettingsPage />}
        {page === "tutors" && <TutorsPage />}
      </main>
    </div>
  );
}

// ---------------- PAGES ----------------

const HomePage = () => (
  <section>
    <h1>Home Screen</h1>
    <div style={{ marginTop: 8 }}>
      <p>Welcome — choose Chemistry to begin interactive lessons and games.</p>
    </div>
  </section>
);

const TopicsPage = () => (
  <section>
    <h1>Chemistry Topics</h1>
    <div style={{ marginTop: 8 }}>
      <ul>
        <li>Hybridisation (sp, sp2, sp3, sp3d, sp3d2)</li>
        <li>Identifying Sigma & Pi Bonds</li>
        <li>IUPAC Nomenclature</li>
      </ul>
    </div>
  </section>
);

const FriendsPage = () => (
  <section>
    <h1>Friends Page</h1>
    <div style={{ marginTop: 8 }}>
      <p>Social features placeholder.</p>
    </div>
  </section>
);

const AboutPage = () => (
  <section>
    <h1>About Us</h1>
    <div style={{ marginTop: 8 }}>
      <p>This app helps JEE aspirants learn chemistry via gamified lessons.</p>
    </div>
  </section>
);

const SettingsPage = () => (
  <section>
    <h1>Settings</h1>
    <div style={{ marginTop: 8 }}>
      <p>Edit tutor names and preferences in the full version.</p>
    </div>
  </section>
);

const TutorsPage = () => (
  <section>
    <h1>Tutor Selection</h1>
    <div style={{ marginTop: 8 }}>
      <p>Choose your tutor (Alex, David, Sravya, Olivia, Mermi, Ogneson).</p>
    </div>
  </section>
);
